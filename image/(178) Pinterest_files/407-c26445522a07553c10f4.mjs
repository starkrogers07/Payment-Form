(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[407],{"3ByC":function(e,o,n){var i=n("iYS+"),t=n("qD10"),a=n("n6mq"),r=n("nKUr");o.a=({bold:e,description:o,descriptionColor:n,external:s,icon:c,onClick:d,text:l,url:p})=>{const m=Object(r.jsx)(a.f,{role:"listitem",overflow:"hidden",children:Object(r.jsx)(i.a,{bold:e,description:o,descriptionColor:n,icon:c,text:l})});return Object(r.jsx)(a.f,{children:p?Object(r.jsx)(t.a,{to:p,external:s,onClick:d,children:m}):Object(r.jsx)(a.bb,{fullWidth:!1,onTap:d,children:m})})}},"6wCo":function(e,o,n){n.r(o);var i=n("JW66"),t=n("ENn1"),a=n("ynlw"),r=n("Hrat"),s=n("q1tI"),c=n("/MKj"),d=n("Nle8"),l=n("Ye/N"),p=n("TgLd"),m=n("GBVV"),b=n("4cpq"),u=n("M1Uz"),h=n("eOdZ");var g=n("U4JR"),j=n("nGHF"),f=n("n6mq"),w=n("nKUr");var O=Object(c.connect)(null,e=>({deletePinSponsorship:o=>e(function(e){return async o=>{await h.a.create("SponsoredPinResource",{pinId:e}).callDelete(),o(function(e){return{type:"DELETE_PIN_SPONSORSHIP",payload:{pinId:e}}}(e))}}(o))}))((function({deletePinSponsorship:e,onDeletePinSponsorship:o,onDismiss:n,pinId:i}){const{showOneToast:t}=Object(j.b)(),[a,r]=Object(s.useState)(!1),c=e=>{r(!1),Object(g.b)(101,{view:3,element:12114,component:230,pin_id:i}),t(({onHide:o})=>Object(w.jsx)(u.a,{onHide:o,text:e?l.a._("Something went wrong!","closeup.pinActionDropdown.toastAfterDeletingHasErrors","Pinterest ran into errors while deleting paid sponsorship"):l.a._("Removed!","closeup.pinActionDropdown.toastAfterDeleting","User deleted their paid partnership")}))};return Object(w.jsx)(p.b,{heading:l.a._("Remove paid partnership?","closeup.pinActionDropdown.deletePinSponsorshipModalHeading","Heading for modal that confirms user wants to delete their partnership"),accessibilityModalLabel:l.a._("Remove paid partnership?","closeup.pinActionDropdown.deletePinSponsorshipModalHeadingLabel","Heading for modal that confirms user wants to delete their partnership"),size:"sm",onDismiss:n,footer:Object(w.jsxs)(f.f,{display:"flex",justifyContent:"center",marginStart:-1,marginEnd:-1,children:[Object(w.jsx)(f.f,{paddingX:1,children:Object(w.jsx)(f.g,{onClick:n,text:l.a._("Cancel","closeup.pinActionDropdown.deletePinSponsorshipModalCancel","Button label for closing sponsorship removal modal")})}),Object(w.jsx)(f.f,{paddingX:1,children:Object(w.jsx)(b.a,{id:"confirm-delete-pin-sponsorship",children:Object(w.jsx)(m.b,{color:"red",onClick:()=>{(async()=>{if(!a){r(!0);try{await e(i),o(),c()}catch(n){o(),c(n)}}})()},text:l.a._("Remove","closeup.pinActionDropdown.deletePinSponsorshipModalConfirmButton","Button label for removing sponsorship"),submitting:a})})})]}),children:Object(w.jsx)(f.f,{padding:4,children:Object(w.jsx)(f.cb,{align:"center",children:l.a._("This will remove the paid partnership disclosure on this Pin—if you change your mind you’ll have to start again! This won’t delete the Pin or affect who sees it.","closeup.pinActionDropdown.deletePinSponsorshipDescription","Text description for modal that confirms user wants to delete their sponsorship")})})})})),x=n("5S2N"),_=n("kmwA");function y(e){const{onDismiss:o,myPin:n}=e,[i,t]=Object(s.useState)(1),a=[{label:l.a._("Small","pinActionDropdown.GetEmbedCodeModal.small","Label on segmented controller for pin embed code, for small width"),width:236},{label:l.a._("Medium","pinActionDropdown.GetEmbedCodeModal.medium","Label on segmented controller for pin embed code, for medium width"),width:345},{label:l.a._("Large","pinActionDropdown.GetEmbedCodeModal.large","Label on segmented controller for pin embed code, for large width"),width:450},{label:l.a._("Extra Large","pinActionDropdown.GetEmbedCodeModal.extra_large","Label on segmented controller for pin embed code, for extra-large width"),width:600}];return Object(w.jsx)(f.z,{children:Object(w.jsxs)(p.b,{accessibilityModalLabel:l.a._("Get Embed Code","pinActionDropdown.GetEmbedCodeModal.modalLabel","Accessibility label on modal for pin embed code"),heading:l.a._("Get Embed Code","pinActionDropdown.GetEmbedCodeModal.header","Heading on modal for pin embed code"),onDismiss:o,footer:Object(w.jsx)(f.f,{display:"flex",direction:"row",justifyContent:"end",children:Object(w.jsx)(f.g,{size:"sm",text:l.a._("Got it!","pinActionDropdown.GetEmbedCodeModal.dismissButton","Button to dismiss embed code modal"),onClick:o})}),children:[Object(w.jsx)(f.f,{paddingX:6,paddingY:4,children:Object(w.jsx)(f.R,{items:a.map(e=>e.label),selectedItemIndex:i,onChange:({activeIndex:e})=>{t(e)}})}),Object(w.jsx)(f.f,{paddingX:8,paddingY:6,children:Object(w.jsx)("code",{children:`<iframe src="${_.a.settings.ASSETS_SITE_URL}/ext/embed.html?id=${n.id}" height="${Math.ceil(n.height*a[i].width/n.width+100)}" width="${a[i].width}" frameborder="0" scrolling="no" ></iframe>`})})]})})}var v=n("Xuu2"),P=n("gTC0"),D=n("3ByC"),S=n("E/VT"),C=n("7w6Q");const A=()=>C.a.increment("windows.download.blob.error"),R=(e,o,n)=>{const i=new window.Windows.Storage.Pickers.FileSavePicker;i.suggestedStartLocation=window.Windows.Storage.Pickers.PickerLocationId.picturesLibrary;const{extension:t,extensionName:a,name:r}=(e=>{const o=e.split("/"),n=o[o.length-1],i=n.split(".");if(i.length>1){const e=i.pop();return{extension:"."+e,extensionName:e.toUpperCase(),name:i.join()}}return{extension:".",extensionName:l.a._("Unknown","Label for file picker drop down when the file type is not known","Label for file picker drop down when the file type is not known"),name:n}})(o);i.suggestedFileName=n||r,i.fileTypeChoices.insert(a,[t]),i.pickSaveFileAsync().then(o=>{o&&(window.Windows.Storage.CachedFileManager.deferUpdates(o),o.openAsync(window.Windows.Storage.FileAccessMode.readWrite).then(o=>{const n=e.msDetachStream();window.Windows.Storage.Streams.RandomAccessStream.copyAsync(n,o).then(()=>{o.flushAsync().done(()=>{n.close(),o.close(),C.a.increment("windows.download.blob.success")},A)},A)},A))})};var T=({filename:e,imgSrc:o,category:n})=>{if(!o)return null;return Object(w.jsx)(D.a,{onClick:()=>{((e,o)=>{try{const n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onreadystatechange=()=>{if(4===n.readyState)if(200!==n.status)C.a.increment("windows.download.blob.nodownload",.1,{status:n.status});else{const i=n.response;R(i,e,o)}},n.send(null)}catch(n){C.a.increment("windows.download.blob.xhrexception",.1,{error:n})}})(o,e)},text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})},k=n("ESls"),E=n("gSZa"),I=n("hFNL"),L=n("LT60"),M=n("eUcp");function H({anchor:e,bestPinImgSrc:o,closeDropdown:n,feedbackData:i,feedbackType:t,handleEditPinClick:a,handleHidePinClick:r,handleHideReasonSelected:s,handleReportPin:c,hideDownload:d,isFullAuth:p,isHideReasonsVisible:m,isOwnPin:u,pinCategory:h,pinDescription:g,pinId:j,pinImgSrc:O,pinTitle:x,recommendationReason:_,showEditPin:y,showEmbed:v,showLoginForMore:P,showRemoveMention:C,showRemoveSponsorship:A,toggleDeletePinSponsorshipModal:R,toggleEmbed:H,toggleRemoveMention:B,usePortal:N,showRemoveProductTags:z,toggleRemoveTags:F}){const G=Object(w.jsx)(f.f,{zIndex:M.a,children:Object(w.jsx)(f.L,{anchor:e.current,idealDirection:"down",onDismiss:n,size:"xs",children:m?Object(w.jsx)(E.a,{feedbackData:i,feedbackType:t,pinId:j,onHide:s,recommendationReason:_,viewParameter:156,viewType:3}):Object(w.jsxs)(f.f,{width:"100%",role:"list",children:[y&&Object(w.jsx)(b.a,{id:"pin-action-dropdown-edit-pin",children:Object(w.jsx)(D.a,{onClick:a,text:l.a._("Edit Pin","closeup.pinActionDropDown.editPin","Button allowing user to edit their Pin")})}),!d&&"undefined"!=typeof window&&"windows"!==Object(I.b)(window)&&o&&Object(w.jsx)(b.a,{id:"pin-action-dropdown-download",children:Object(w.jsx)(S.a,{imgSrc:o||"",filename:x||g,category:h,pinId:j,children:e=>Object(w.jsx)(D.a,{onClick:e,text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})})}),!d&&"undefined"!=typeof window&&"windows"===Object(I.b)(window)&&(o||O)&&Object(w.jsx)(b.a,{id:"pin-action-dropdown-download",children:Object(w.jsx)(T,{imgSrc:o||O||"",filename:x||g,category:h})}),A&&Object(w.jsx)(D.a,{onClick:R,text:l.a._("Remove partnership","closeup.pinActionDropDown.removePartnership","Label to allow removing an existing partnership")}),!u&&Object(w.jsx)(b.a,{id:"pin-action-dropdown-hide",children:Object(w.jsx)(D.a,{onClick:p?r:P,text:l.a._("Hide Pin","closeup.pinActionDropDown.hide","Label for hide pin action")})}),Object(w.jsx)(b.a,{id:"pin-action-dropdown-report",children:Object(w.jsx)(D.a,{onClick:p?c:P,text:l.a._("Report Pin","Label for report pin action","Label for report pin action")})}),C&&Object(w.jsx)(D.a,{onClick:B,text:l.a._("Remove @mention","closeup.pinActionDropDown.removeMention","Button that allows user to remove their @mention in the pin's")}),v&&Object(w.jsx)(k.a,{name:"closeup_pin_embed_code",children:({anyEnabled:e})=>e&&Object(w.jsx)(b.a,{id:"pin-action-dropdown-embed",children:Object(w.jsx)(D.a,{onClick:H,text:l.a._("Get Pin embed code","Label for embed pin action","Label for embed pin action")})})}),z&&Object(w.jsx)(D.a,{onClick:F,text:l.a._("Remove your products","storyPinCloseup.PinActionDropdown.RemoveYourProducts","Label for remove product tags")})]})})});return N?Object(w.jsx)(L.a,{children:Object(w.jsx)(f.z,{children:G})}):G}function B(e){const{onConfirm:o,onDismiss:n}=e;return Object(w.jsx)(f.z,{children:Object(w.jsx)(p.b,{accessibilityModalLabel:l.a._("Remove your products","pinActionDropdown.RemoveProductTags.modalLabel","Accessibility label on modal for pin remove product tags"),heading:l.a._("Remove your products","pinActionDropdown.RemoveProductTags.header","Heading on modal for pin remove product tags"),onDismiss:n,footer:Object(w.jsxs)(f.f,{display:"flex",direction:"row",justifyContent:"center",children:[Object(w.jsx)(f.f,{paddingX:1,children:Object(w.jsx)(f.g,{inline:!0,onClick:n,size:"lg",text:l.a._("Cancel","pinActionDropdown.RemoveProductTags.dismissButton","Button to dismiss remove product tags modal")})}),Object(w.jsx)(f.f,{paddingX:1,children:Object(w.jsx)(f.g,{color:"red",inline:!0,onClick:o,size:"lg",text:l.a._("Remove","pinActionDropdown.RemoveProductTags.confirmButton","Button to confirm remove product tags modal")})})]}),children:Object(w.jsx)(f.f,{marginBottom:4,paddingX:8,children:Object(w.jsx)(f.cb,{align:"center",children:l.a._("Tags in this Story Pin will no longer link to your products.","pinActionDropdown.RemoveProductTags.Description","Description on modal to confirm remove product tags")})})})})}var N=n("IJsR"),z=n("c4Fo"),F=n("AAEI"),G=n("2qKt");const U=1000353;var X=Object(G.a)(U)((function({onDismiss:e}){const o=Object(F.a)(U),n=Object(s.useRef)(0);return Object(s.useEffect)(()=>{1===n.current&&(o.experienceForPlacement?Object(g.b)(13,{view:500,viewParameter:157}):e()),n.current+=1},[o,e]),Object(w.jsx)(z.a,{placementId:U,experienceIds:[503316],children:({complete:o,dismiss:n})=>Object(w.jsx)(f.z,{children:Object(w.jsx)(p.b,{accessibilityModalLabel:l.a._("Changes to Publishing","closeup.pinActionDropDown.editPin.storyPinModal","Heading describing edit story pin limitations after publishing"),heading:l.a._("Changes to Publishing","closeup.pinActionDropDown.editPin.storyPinModal","Heading describing edit story pin limitations after publishing"),onDismiss:()=>{e(),n()},footer:Object(w.jsxs)(f.f,{display:"flex",justifyContent:"center",children:[Object(w.jsx)(f.f,{flex:"grow"}),Object(w.jsx)(f.f,{flex:"none",children:Object(w.jsx)(f.g,{size:"lg",color:"red",text:l.a._("Continue Editing","closeup.pinActionDropDown.editPin.storyPinModal","Text describing edit story pin limitations after publishing"),onClick:()=>{o(),Object(g.b)(101,{view:500,viewParameter:157,element:12019}),e()}})}),Object(w.jsx)(f.f,{flex:"grow"})]}),role:"alertdialog",size:"sm",children:Object(w.jsx)(f.f,{paddingX:8,children:Object(w.jsx)(f.cb,{align:"center",children:l.a._("Only changes to board selection and engagement settings are allowed after publishing","closeup.pinActionDropDown.editPin.storyPinModal","Text describing edit story pin limitations after publishing")})})})})})})),q=n("Sp3T"),W=n("v/Q4"),V=n("eqXv"),K=n("CONZ"),Y=n("vvax"),J=n("5+ob"),$=n("QAzJ"),Q=n("aOj9"),Z=n("1Fta"),ee=n("DJoW");function oe({bestPinImgSrc:e,carouselSlotCurrentIndex:o,embedImg:n,goBack:i,hideDownload:t,iconColor:a,isStoryPin:r,onDropdownClick:p,onEditSubmit:m,onReportPin:b,onToggle:_,pinCategory:D,pinDescription:S,pinId:C,pinImgSrc:A,pinTitle:R,reportPin:T,showEditPin:k,showEmbed:E,showRemoveMention:I,showRemoveSponsorship:L,usePortal:M,viewParameter:z}){const{showOneToast:F}=Object(j.b)(),[G,U]=Object(s.useState)(!1),[oe,ne]=Object(s.useState)(!1),[ie,te]=Object(s.useState)(!1),[ae,re]=Object(s.useState)(!1),[se,ce]=Object(s.useState)(!1),[de,le]=Object(s.useState)(!1),[pe,me]=Object(s.useState)(!1),[be,ue]=Object(s.useState)(!1),[he,ge]=Object(s.useState)(!1),[je,fe]=Object(s.useState)([]),we=Object(c.useSelector)(({pins:e})=>e[C]),Oe=Object(c.useSelector)(({resources:e})=>e),xe=Object(c.useDispatch)(),_e=Object(W.a)(),ye=Object(Q.e)(),ve=Object(s.useRef)(),Pe=Object(q.a)(),De=_e.isAuth&&!_e.isLimitedLogin,Se=e=>xe(Object(ee.c)(e));Object(s.useEffect)(()=>{if(Oe.data.StoryPinTaggedProductsResource){const o=Object.values(Oe.data.StoryPinTaggedProductsResource)[1];if("object"==typeof o&&Array.isArray(null==o?void 0:o.data)){var e;const n=o.data,i=[];null===(e=we.story_pin_data)||void 0===e||e.pages.forEach(({blocks:e})=>{e.forEach(e=>{if("story_pin_product_sticker_block"===e.type&&!e.is_removed){var o,t;const a=n.find(o=>o.id===e.pin_id);a&&(null===(o=a.link_domain)||void 0===o||null===(t=o.official_user)||void 0===t?void 0:t.id)===_e.id&&i.push(a)}})}),fe(i),i.length>0&&ge(!0)}}},[Oe.data,we.story_pin_data,_e]);const Ce=()=>{U(!1),ne(!1)},Ae=e=>{Object(g.b)(101,{element:e,component:4,view:3,viewParameter:z})},Re=()=>{Ce(),me(!pe)},Te=()=>{Ce(),ce(!se)},ke=()=>{Ce(),Pe(()=>{Object(g.b)(101,{element:3,viewParameterType:z,viewType:3}),te(!ie)})},Ee=()=>{ae||Object(g.b)(4439,{view:3,viewParameter:156}),U(!1),re(!ae)},Ie=Object(Z.a)({i18n:l.a,interpolateNamedTemplate:Y.b}),Le=l.a._("More options","Accessible label for more options dropdown","Accessible label for more options dropdown"),Me=void 0,{recommendation_reason:He,pinner:Be}=we,Ne=Object(v.a)({feedbackOptions:Me,pin:we,viewParameter:156}),{data:ze}={},Fe=He&&He.reason&&J.ReasonToChoose[He.reason],Ge=He&&Object(Z.d)(He),Ue=He&&Object(Z.e)(He),Xe=Boolean(_e.isAuth&&Be&&Be.id===_e.id),{action:qe,actionOptions:We}=Ie.getHidePinAction({feedbackData:ze,feedbackType:Ne,pinId:C,recommendationReasonId:Fe,pinFeedbackType:"pfy"===Ne?4:10,throughId:Ge,throughProperties:Ue,clientTrackingParams:Object(d.a)(C)}),Ve=()=>{ne(!0);const e={title:"",subTitle:l.a._("Got it! We won't show you this Pin in the future.","pinActionDropdown.hidePin.confirmation","message displayed after hiding a pin")};var o,n,i;We&&qe?(o=C,n=e,i=Object(Z.b)(We,qe,C,3,z,Se,g.b),xe(Object(ee.g)(o,n,i))):((e,o)=>{xe(Object(ee.a)(e,o))})(C,e)},{anyEnabled:Ke}=Object($.a)("web_story_pin_edit_deprecation"),{anyEnabled:Ye}=Object($.a)("web_sp2s");return Object(w.jsxs)(f.f,{flex:"grow",alignItems:"center",display:"flex",children:[Object(w.jsx)(f.f,{ref:ve,children:Object(w.jsx)(P.a,{accessibilityLabel:Le,icon:"ellipsis",onClick:()=>{_&&_(),"function"==typeof p&&p(),U(!G),Ae(981)},color:a})}),G&&Object(w.jsx)(H,{anchor:ve,bestPinImgSrc:e,closeDropdown:Ce,feedbackData:ze,feedbackType:Ne,handleEditPinClick:()=>{Ke&&r?le(!0):ke()},handleHidePinClick:()=>{Ae(982),Object(V.a)(qe,We,Ve)},handleHideReasonSelected:()=>{i&&i()},handleReportPin:()=>{"function"==typeof b&&b(C),T()},hideDownload:Boolean(t),isFullAuth:De,isHideReasonsVisible:oe,isOwnPin:Xe,pinCategory:D,pinDescription:null!=S?S:"",pinId:C,pinImgSrc:null!=A?A:"",pinTitle:null!=R?R:"",recommendationReason:He,showEditPin:k,showEmbed:E,showLoginForMore:ye,showRemoveMention:I,showRemoveSponsorship:L,toggleDeletePinSponsorshipModal:Te,toggleEmbed:Ee,toggleRemoveMention:Re,usePortal:M,showRemoveProductTags:he,toggleRemoveTags:()=>{U(!1),ue(!be)}}),ae&&Object(w.jsx)(y,{myPin:{id:C,height:n.height,width:n.width},onDismiss:Ee}),se&&Object(w.jsx)(O,{onDeletePinSponsorship:Te,onDismiss:Te,pinId:C}),de&&Object(w.jsx)(X,{onDismiss:()=>{le(!1),ke()}}),pe&&Object(w.jsx)(N.a,{confirmText:l.a._("Remove","closeup.pinActionDropDown.removeMention.modal","Label for button to confirm removal of the user @mention tag"),dismissText:l.a._("Cancel","closeup.pinActionDropDown.removeMention.modal","Label for button to cancel removal of the user @mention tag"),heading:l.a._("Remove @mention","closeup.pinActionDropDown.removeMention.modal","Heading for confirming user @mention tag removal"),accessibilityLabel:Ye?l.a._("Remove @mention tag from Idea Pin","closeup.pinActionDropDown.removeMention.modal","Accessibility label for modal removing @mention tag from Idea Pin"):l.a._("Remove @mention tag from Story Pin","closeup.pinActionDropDown.removeMention.modal","Accessibility label for modal removing @mention tag from Story Pin"),onConfirm:()=>{me(!1),_e.isAuth&&(((e,o)=>{xe(Object(K.b)(e,o))})(C,_e.id),Object(g.b)(8909,{view:3,viewParameter:157})),Ce(),F(({onHide:e})=>Object(w.jsx)(u.a,{onHide:e,text:l.a._("@mention removed!","closeup.pinActionDropDown.mentionRemovalToast","Toast that tells user that they have successfully removed the @mention of them in another user's Pin description")}))},onDismiss:Re,promptText:Ye?l.a._("Tags in this Idea Pin will no longer link to your profile.","closeup.pinActionDropDown.removeMention.modal","Description for modal removing @mention tag from Idea Pin"):l.a._("Tags in this Story Pin will no longer link to your profile.","closeup.pinActionDropDown.removeMention.modal","Description for modal removing @mention tag from Story Pin")}),ie&&Object(w.jsx)(x.a,{carouselSlotCurrentIndex:o,onHide:()=>{te(!1)},onSubmit:m,pinId:C}),be&&Object(w.jsx)(B,{onConfirm:()=>{(async()=>{ue(!1),await h.a.create("ApiResource",{url:`v3/storypins/${C}/products/`}).callDelete().then(()=>{je.map(e=>e.id);ue(!1),F(({onHide:e})=>Object(w.jsx)(u.a,{onHide:e,text:l.a._("Product tags removed!","closeup.pinActionDropDown.productTagsRemoved","Toast that tells user that products tags were removed")}))})})()},onDismiss:()=>ue(!1)})]})}var ne=n("OSge"),ie=n("YxyV"),te=n("7jH2");o.default=({carouselSlotCurrentIndex:e,iconColor:o,goBack:n,onDropdownClick:s,onEditSubmit:c,onReportPin:d,pin:l,showEditPin:p=!1,viewParameter:m})=>{var b,u;const h=Object(W.a)(),{pinTitle:g,pinDescription:j,pinCategory:O}=Object(r.a)(l),x=Object(te.q)({pin:l}),{video:_}=Object(te.y)(x)||{},y=!!_||!!Object(te.j)(x);let v;l.images&&(v=l.embed&&"gif"===l.embed.type?l.embed.src:l.images["736x"]&&l.images["736x"].url);const P=!!l.story_pin_data_id,D=Object(ie.d)(l),{isPromoted:S}=Object(a.a)(l),C=l.board.privacy===i.a.BoardPrivacy.SECRET,A=!S&&!C,{anyEnabled:R}=Object($.a)("web_story_pin_at_mentions"),T=R&&h.isAuth&&(null===(b=l.story_pin_data)||void 0===b||null===(u=b.pages)||void 0===u?void 0:u.reduce((e,o)=>{var n;return e||(null===(n=o.blocks)||void 0===n?void 0:n.reduce((e,o)=>e||o.type===ne.a.MENTION_STICKER&&o.user_id===h.id&&!1===o.is_removed,!1))},!1)),{sponsorship:k}=l,{creator:E,sponsor:I}=k||{},L=h.isAuth&&!!k&&[E.username,I.username].includes(h.username);return Object(w.jsx)(f.f,{"data-test-id":"pin-action-bar",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:Object(w.jsx)(oe,{carouselSlotCurrentIndex:e,iconColor:o,isStoryPin:P,embedImg:Object(ie.e)(l,"736x"),showEmbed:A,bestPinImgSrc:D,goBack:n,hideDownload:y||P,onDropdownClick:s,onEditSubmit:c,onReportPin:d,pinCategory:O,pinDescription:j,pinId:l.id,pinImgSrc:v,pinTitle:g,reportPin:Object(t.a)({pin:l,viewParameter:m,viewType:3}),showEditPin:p,showRemoveMention:T,showRemoveSponsorship:L,usePortal:!1,viewParameter:m})})}},Hrat:function(e,o,n){var i=n("yaUg"),t=n("Ye/N");o.a=e=>{const o=e.link_domain||{},n=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,a=e.rich_metadata,r=e.domain,s=e.closeup_attribution||e.native_creator||o.official_user||e.pinner||e.origin_pinner,c=!(!(a&&a.recipe&&a.recipe.name&&a.recipe.categorized_ingredients)||a.recipe.from_aggregated_data);let d,l;a&&a.products&&a.products[0]&&(d=!!(a&&a.name&&a.offer_summary));const p=d,m=!(!a||!a.article),b=!(!a||!a.tutorial),u=!(!s||!s.username);let h=t.a._("Saved from ","Closeup pin annotation","Closeup pin annotation"),g=u?t.a._("Saved by"):t.a._("Saved from"),j=t.a._("Visit");a&&a.products&&a.products[0]&&a&&a.products[0].name&&a.products[0].offer_summary&&(h=t.a._("Product sold by ","pin annotation","pin annotation"),l=a.products[0].offer_summary),p?(g=t.a._("Sold by"),j=t.a._("Visit")):b?(h=t.a._("Saved from ","pin annotation","pin annotation"),g=u?t.a._("Saved by"):t.a._("Saved from"),j=t.a._("Visit")):c?(h=t.a._("Recipe from ","pin annotation","pin annotation"),g=u?t.a._("Recipe by"):t.a._("Recipe from"),j=t.a._("Make it")):m&&(h=t.a._("Article from ","pin annotation","pin annotation"),g=u?t.a._("Article by"):t.a._("Article from"),j=t.a._("Read it"));const f=e.rich_summary;if(!l&&f){let e;f&&f.products&&f.products[0]&&(e=!!(f&&f.products[0].name&&f.products[0].offer_summary),e&&(h=t.a._("Product sold by ","pin annotation","pin annotation")))}let w,O;u?(w="/"+s.username+"/",O=s.full_name):(w="/source/"+r,O=a&&a.site_name||r);return{actionButtonText:j,image:s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,link:w,pinLink:n,pin:e,pinCreditPrefix:h,prefixText:g,subtitle:O,title:Object(i.a)(t.a._("More from {{ subtitle }}"),{subtitle:O}),pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},IJsR:function(e,o,n){n.d(o,"a",(function(){return r}));var i=n("TgLd"),t=n("n6mq"),a=n("nKUr");function r({confirmText:e,dismissText:o,heading:n,accessibilityLabel:r,onConfirm:s,onDismiss:c,promptText:d}){return Object(a.jsx)(i.b,{accessibilityModalLabel:r,onDismiss:c,size:414,heading:n,children:Object(a.jsxs)(t.f,{padding:4,children:[Object(a.jsx)(t.cb,{align:"center",children:d}),Object(a.jsxs)(t.f,{display:"flex",direction:"row",marginStart:-2,marginEnd:-2,marginTop:12,children:[Object(a.jsx)(t.f,{display:"flex",direction:"row",column:6,paddingX:2,"data-test-id":"modal-dismiss-button",children:Object(a.jsx)(t.g,{color:"gray",text:o,onClick:c})}),Object(a.jsx)(t.f,{column:6,paddingX:2,"data-test-id":"modal-confirm-button",children:Object(a.jsx)(t.g,{color:"red",text:e,onClick:s})})]})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/407-c26445522a07553c10f4.mjs.map